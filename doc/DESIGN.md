# bgen è®¾è®¡æ–‡æ¡£

bgen æ˜¯ä¸€ä¸ªç”¨ Go å†™çš„æç®€é™æ€åšå®¢ç”Ÿæˆå™¨. ç›®æ ‡ç”¨æˆ·æ˜¯è¿½æ±‚ç®€æ´, æœ‰ä¸€å®šæŠ€æœ¯èƒ½åŠ›, æƒ³è¦å®Œå…¨ç†è§£è‡ªå·±å·¥å…·çš„å†™ä½œè€….

## ç”¨æˆ·ç»´æŠ¤çš„æ–‡ä»¶

è§ `README.md` "ğŸ“ é…ç½®é¡¹å’Œçº¦å®š".

## ç¼–ç æ ¼å¼åŸåˆ™

- ä»£ç è‡ªè¿°, å°½é‡é¿å…æ³¨é‡Š.
- å½“ä»£ç æ— æ³•è‡ªè¿°æ—¶, ç”¨ä¸­æ–‡å†™ç®€æ´æ³¨é‡Š.
- ä»»ä½•æ—¶å€™éƒ½ä¸å…è®¸ä½¿ç”¨ä¸­æ–‡æ ‡ç‚¹. åªèƒ½ä½¿ç”¨è‹±æ–‡æ ‡ç‚¹.
- åœ¨è§„èŒƒçš„å‰æä¸‹, å°½é‡ç”¨æœ€ç®€çŸ­çš„ä»£ç å®ç°åŠŸèƒ½.

## bgen åšçš„äº‹

1. è¯»å– `content/` ä¸‹æ‰€æœ‰ markdown æ–‡ä»¶
2. æ¯ç¯‡æ–‡ç« ç”¨ Pandoc å¤„ç†: markdown -> HTML, å¤„ç† TeX, å›¾æ³¨, ä»£ç å—
3. Pandoc åŒæ—¶ç”Ÿæˆ TOC
4. å°† HTML å†…å®¹æ³¨å…¥ Go html/template æ¨¡æ¿
5. è¾“å‡ºé™æ€æ–‡ä»¶åˆ° output/
6. ç‰¹æ®Šé¡µé¢ä¸æ˜¯æ–‡ç« , æ·»åŠ åˆ°å¯¼èˆª
7. æ„å»ºæ—¶ç”Ÿæˆ search.json (æ ‡é¢˜ + URL + æ—¥æœŸ)
8. dev æ¨¡å¼: æœ¬åœ° HTTP server + æ–‡ä»¶ç›‘å¬è‡ªåŠ¨é‡å»º

## ç”Ÿæˆçš„é¡µé¢

| é¡µé¢     | URL                  | è¯´æ˜                   |
| :------- | :------------------- | :--------------------- |
| æ–‡ç« åˆ—è¡¨ | `/`                  | æ‰€æœ‰æ–‡ç« æŒ‰æ—¶é—´å€’åº     |
| æ–‡ç« é¡µ   | `/posts/slug/`       | æ­£æ–‡ + TOC + tags      |
| tag é¡µ   | `/tags/math/`        | è¯¥ tag ä¸‹çš„æ–‡ç«         |
| æœç´¢é¡µ   | `/search/`           | å‰ç«¯ Fuse.js, åªæœæ ‡é¢˜ |
| ç‰¹æ®Šé¡µé¢ | `/about/`, `/links/` | çº¯å†…å®¹, æ— åˆ—è¡¨é€»è¾‘     |
| 404      | `/404.html`          | é”™è¯¯åé¦ˆé¡µ             |

å¯¼èˆªæ å›ºå®š: Search | Tags | å„ç§ç‰¹æ®Šé¡µé¢

## æŠ€æœ¯æ ˆ

- è¯­è¨€: Go
- Markdown å¤„ç†: è°ƒç”¨æœ¬åœ° Pandoc (`exec.Command`)
- æ¨¡æ¿: æ ‡å‡†åº“ `html/template`
- YAML è§£æ: `gopkg.in/yaml.v3`
- æ–‡ä»¶ç›‘å¬: `github.com/fsnotify/fsnotify`
- Dev server: `net/http`, `github.com/coder/websocket`
- å‰ç«¯æœç´¢: Fuse.js (CDN), æ¶ˆè´¹ search.json
- ä¾èµ–æå°‘, ç¼–è¯‘ä¸ºå•ä¸€äºŒè¿›åˆ¶

## å‘½ä»¤è¡Œ

```
bgen init         # åˆå§‹åŒ–ç›®å½•ç»“æ„
bgen build        # æ„å»ºåˆ° output/
bgen serve        # dev server, watch + reload
bgen version
bgen help
```

## ä¸»é¢˜/è‡ªå®šä¹‰

é»˜è®¤æ¨¡æ¿å’Œæ ·å¼å†…ç½®åœ¨äºŒè¿›åˆ¶é‡Œ (embed). ç”¨æˆ·åœ¨é¡¹ç›®æ ¹ç›®å½•æ”¾åŒåæ–‡ä»¶å³å¯è¦†ç›–:

- `layouts/single.html` è¦†ç›–æ–‡ç« é¡µæ¨¡æ¿
- `static/style.css` è¦†ç›–æ ·å¼

é»˜è®¤æ ·å¼åº”æ˜¯çœŸæ­£å¥½çœ‹çš„, å¹²å‡€çš„, ä¸æ˜¯ placeholder. ç”¨æˆ·ä¸è¦†ç›–ä¹Ÿèƒ½ç›´æ¥ç”¨.

## è®¡åˆ’åšçš„äº‹

- serve è¾“å‡ºåˆ° temp è€Œä¸æ˜¯ output
- pandoc parse åº”è¯¥ç”¨ errgroup
- `extractImageRefs` ä¹Ÿæ”¯æŒå†…åµŒ html, å¦‚ `<img src="...">`
- ç”¨ bgen ç”Ÿæˆçš„ example & usage site

## ä¸åšçš„äº‹

- æ–‡ç« çš„ l10n (è´£ä»»ä¸åœ¨å†™ä½œè€…)
- å¤æ‚ taxonomy (åªæœ‰ tags, æ²¡æœ‰ categories)
- ä»»ä½•éœ€è¦æ–‡æ¡£æ‰èƒ½ç†è§£çš„é…ç½®é¡¹
